<div class="conterntWrapper">
</div>
<!DOCTYPE html>
<!-- saved from url=(0052)http://threejs.org/examples/css3d_periodictable.html -->
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <title>three.js css3d - periodic table</title>
    <style>
        html, body {
                height: 100%;
            }

            body {
                background-color: #000000;
                margin: 0;
                font-family: Helvetica, sans-serif;;
                overflow: hidden;
            }

            a {
                color: #ffffff;
            }

            #info {
                position: absolute;
                width: 100%;
                color: #ffffff;
                padding: 5px;
                font-family: Monospace;
                font-size: 13px;
                font-weight: bold;
                text-align: center;
                z-index: 1;
            }

            #menu {
                position: absolute;
                bottom: 20px;
                width: 100%;
                text-align: center;
            }

            .element {
                width: 120px;
                height: 160px;
                box-shadow: 0px 0px 12px rgba(0,255,255,0.5);
                border: 1px solid rgba(127,255,255,0.25);
                text-align: center;
                cursor: default;
            }

            .element:hover {
                box-shadow: 0px 0px 12px rgba(0,255,255,0.75);
                border: 1px solid rgba(127,255,255,0.75);
            }

                .element .number {
                    position: absolute;
                    top: 20px;
                    right: 20px;
                    font-size: 12px;
                    color: rgba(127,255,255,0.75);
                }

                .element .symbol {
                    position: absolute;
                    top: 40px;
                    left: 0px;
                    right: 0px;
                    font-size: 60px;
                    font-weight: bold;
                    color: rgba(255,255,255,0.75);
                    text-shadow: 0 0 10px rgba(0,255,255,0.95);
                }

                .element .details {
                    position: absolute;
                    bottom: 15px;
                    left: 0px;
                    right: 0px;
                    font-size: 12px;
                    color: rgba(127,255,255,0.75);
                }

            button {
                color: rgba(127,255,255,0.75);
                background: transparent;
                outline: 1px solid rgba(127,255,255,0.75);
                border: 0px;
                padding: 5px 10px;
                cursor: pointer;
            }
            button:hover {
                background-color: rgba(0,255,255,0.5);
            }
            button:active {
                color: #000000;
                background-color: rgba(0,255,255,0.75);
            }
    </style>
</head>

<body>
    <script src="three.min.js"></script>
    <script src="tween.min.js"></script>
    <script src="TrackballControls.js"></script>
    <script src="CSS3DRenderer.js"></script>

    <div id="container"></div>

    <div id="menu">
        <button id="table">TABLE</button>
        <button id="sphere">SPHERE</button>
        <button id="helix">HELIX</button>
        <button id="grid">GRID</button>
    </div>

    <script>
        var camera, scene, renderer,geometry;
            var controls;

            var particeLen = 20000;

            var objects = [];
            var targets = { sphere1: [], sphere: [], helix: [], grid: [] },
                materials = [],
                particles = [],
                particleSystem;

            init();
            animate();

            function init() {

                camera = new THREE.PerspectiveCamera( 40, window.innerWidth / window.innerHeight, 1, 10000 );
                camera.position.z = 3000;

                scene = new THREE.Scene();

                //scene.fog = new THREE.FogExp2( 0x000000, 0.0007 );

                particles = new THREE.Geometry();

                for ( i = 0; i < particeLen; i ++ ) {

                    var particle = new THREE.Vector3();
                    particles.vertices.push( particle );
                    particles.vertices[i].x = Math.random() * 1000 - 500;
                    particles.vertices[i].y = Math.random() * 1000 - 500;
                    particles.vertices[i].z = Math.random() * 1000 - 500;
                }

                parameters = [
                    [ [1, 1, 0.5], 5 ],
                    [ [0.95, 1, 0.5], 4 ],
                    [ [0.90, 1, 0.5], 3 ],
                    [ [0.85, 1, 0.5], 2 ],
                    [ [0.80, 1, 0.5], 1 ]
                ];

                for ( i = 0; i < 1; i ++ ) {

                    color = parameters[i][0];
                    size  = parameters[i][1];

                    materials[i] = new THREE.PointCloudMaterial( { size: size } );

                    particleSystem = new THREE.ParticleSystem( particles, materials[i] );
                    particleSystem.dynamic = true;
                    particleSystem.sortParticles = true;

                    particleSystem.rotation.x = Math.random() * 6;
                    particleSystem.rotation.y = Math.random() * 6;
                    particleSystem.rotation.z = Math.random() * 6;

                    scene.add( particleSystem );

                }



                // init particles
                for ( var i = 0; i < particeLen; i ++ ) {



                }

                // sphere
                var vector = new THREE.Vector3();
                for ( var i = 0, l = particeLen/2; i < l; i ++ ) {
                    var phi = Math.acos( -1 + ( 2 * i ) / l );
                    var theta = Math.sqrt( l * Math.PI ) * phi;
                    var object = new THREE.Object3D();
                    object.position.x = 500 * Math.cos( theta ) * Math.sin( phi );
                    object.position.y = 500 * Math.sin( theta ) * Math.sin( phi );
                    object.position.z = 500 * Math.cos( phi );
                    object.lookAt( vector );
                    targets.sphere.push( object );

                }

                // sphere
                var vector = new THREE.Vector3();
                for ( var i = 0, l = particeLen/2; i < l; i ++ ) {
                    var phi = Math.acos( -1 + ( 2 * i ) / l );
                    var theta = Math.sqrt( l * Math.PI ) * phi;
                    var object = new THREE.Object3D();
                    object.position.x = 1500 + 500 * Math.cos( theta ) * Math.sin( phi );
                    object.position.y = 500 * Math.sin( theta ) * Math.sin( phi );
                    object.position.z = 500 * Math.cos( phi );
                    object.lookAt( vector );
                    targets.sphere.push( object );
                }



                //

                renderer = new THREE.WebGLRenderer();
                renderer.setSize( window.innerWidth, window.innerHeight );
                renderer.domElement.style.position = 'absolute';
                document.getElementById( 'container' ).appendChild( renderer.domElement );

                //

                controls = new THREE.TrackballControls( camera, renderer.domElement );
                controls.rotateSpeed = 0.5;
                controls.minDistance = 500;
                controls.maxDistance = 6000;
                controls.addEventListener( 'change', render );


                var button = document.getElementById( 'sphere' );
                button.addEventListener( 'click', function ( event ) {

                    transform( targets.sphere, 2000 );

                }, false );


                //
                window.addEventListener( 'resize', onWindowResize, false );

            }

            function transform( shape, duration ) {

                TWEEN.removeAll();

                for ( var i = 0; i < particeLen; i ++ ) {

                    var particle = particles.vertices[ i ];
                    var target = shape[ i ];

                    new TWEEN.Tween( particle )
                        .to( { x: target.position.x, y: target.position.y, z: target.position.z }, Math.random() * duration + duration )
                        .easing( TWEEN.Easing.Exponential.InOut )
                        .start();

                }

                new TWEEN.Tween( this )
                    .to( {}, duration * 2 )
                    .onUpdate( render )
                    .start();

            }

            function onWindowResize() {

                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();

                renderer.setSize( window.innerWidth, window.innerHeight );

                render();

            }

            function animate() {

                requestAnimationFrame( animate );

                TWEEN.update();
                render();

                controls.update();

            }

            function render() {
                var time = Date.now() * 0.00005;

                for ( i = 0; i < materials.length; i ++ ) {

                    var color = parameters[i][0];

                    h = ( 360 * ( color[0] + time ) % 360 ) / 360;
                    materials[i].color.setHSL( h, color[1], color[2] );

                }

                renderer.render( scene, camera );

            }

    </script>


</body>

</html>
